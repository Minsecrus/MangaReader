<!-- app/components/SelectImageButton.vue -->
<script setup lang="ts">
const emit = defineEmits<{
    // æŠ›å‡ºä¸€ä¸ª files-selected çš„äº‹ä»¶ å¹¶å¸¦æœ‰ç±»å‹ä¸ºFile[]çš„å‚æ•°
    (e: 'files-selected', files: File[]): void
}>()

const handleFileSelect = (event: Event) => {
    const input = event.target as HTMLInputElement
    const files = input.files

    if (files && files.length > 0) {
        emit('files-selected', Array.from(files))
    }

    // é‡ç½® inputï¼Œä»¥ä¾¿å¯ä»¥å†æ¬¡é€‰æ‹©ç›¸åŒçš„æ–‡ä»¶
    input.value = ''
}
</script>

<template>
    <label class="inline-block">
        <div
            class="text-base transition-all duration-200 text-white cursor-pointer hover:opacity-90 hover:-translate-y-px hover:shadow-base px-4 py-2 bg-primary rounded-primary">
            é€‰æ‹©å›¾ç‰‡ğŸ“
        </div>
        <input type="file" accept="image/*" multiple @change="handleFileSelect" class="hidden">
    </label>
</template>
