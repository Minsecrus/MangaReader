# 📚 MangaReader - 日语漫画学习助手

> 一个专为日语学习者设计的桌面应用，通过 OCR 技术帮助你轻松阅读日文生肉漫画

## 🎯 项目初衷

帮助更多像我一样通过日文漫画来学习日语的学习者，让日语学习变得更加有趣和高效。

## ✨ 核心功能

### 📸 智能截图与 OCR

- 支持导入本地图片进行 OCR 识别
- 全局截图功能，可在任意界面直接截取
- 完美支持竖排日文识别
- 实时文字识别，快速获取日文原文

### 📖 学习辅助

- **词汇拆解**：自动将识别的日文句子分词，展示每个单词
- **可选翻译**：手动控制是否翻译，避免过度依赖
- **语法分析**：基础语法结构解析
- **生词本**：收藏不认识的单词，建立个人词库

### 🎨 使用场景

- **本地图片模式**：导入漫画图片，在软件内进行 OCR 截取
- **全局悬浮模式**：在任何漫画阅读网站上悬浮使用
- **学习模式**：查看原文、分词、语法解析，自主选择是否翻译

## 🛠 技术栈

- **前端框架**：Nuxt 4 + TypeScript
- **UI 设计**：Tailwind CSS
- **桌面端**：Electron
- **OCR 引擎**：
  - 🏠 本地兜底：Hugging Face 轻量级 OCR 模型（离线可用）
  - ☁️ 可选增强：用户自定义 API（Google Vision、百度 OCR 等）
- **日语分词**：kuromoji.js
- **翻译服务**：
  - 🏠 本地兜底：Hugging Face 轻量级翻译模型（离线可用）
  - ☁️ 可选增强：用户自定义 API（DeepL、Google Translate 等）

## 🎨 UI 设计概览

### 主要界面构成

#### 1️⃣ 主工作区

```
┌─────────────────────────────────────────┐
│  [导入图片] [截图] [设置] [生词本]        │
├──────────────┬──────────────────────────┤
│              │                          │
│   图片预览   │    OCR结果 & 学习面板      │
│   区域       │    ┌──────────────────┐  │
│              │    │ 📝 原文显示      │  │
│   (可缩放    │    │ ひらがな・カタカナ │  │
│    可拖拽)   │    └──────────────────┘  │
│              │    ┌──────────────────┐  │
│              │    │ 🔍 分词结果      │  │
│              │    │ [単語1][助詞][動詞]│ │
│              │    └──────────────────┘  │
│              │    [📖 显示翻译]         │
└──────────────┴──────────────────────────┘
```

#### 2️⃣ 悬浮模式

```
┌──────────────┐
│ 🔲 截图模式  │  ← 半透明悬浮窗
│              │
│ [Ctrl+Shift+S]│
└──────────────┘
    ↓ 截图后
┌──────────────────┐
│ 原文: これは何ですか │
│ [わかる][分詞][翻訳] │
└──────────────────┘
```

#### 3️⃣ 详细界面布局

**顶部工具栏**

- 导入按钮
- 截图按钮
- 设置
- 生词本

**左侧面板** - 图片浏览区

- 拖拽导入图片
- 图片预览与缩放
- OCR 区域选择工具
- 多图片管理

**右侧面板** - 学习面板

```
┌─────────────────────────────┐
│ 📝 识别原文                  │
│ ┌─────────────────────────┐ │
│ │ 今日はいい天気ですね。   │ │
│ └─────────────────────────┘ │
│                              │
│ 🔤 分词结果                  │
│ ┌─────────────────────────┐ │
│ │ [今日] [は] [いい]      │ │
│ │ [天気] [です] [ね]      │ │
│ └─────────────────────────┘ │
│   ↑ 点击单词查看详情          │
│                              │
│ 🌐 翻译 (可选)               │
│ ┌─────────────────────────┐ │
│ │ 今天天气真好呢。         │ │
│ │ [显示] [隐藏]           │ │
│ └─────────────────────────┘ │
│                              │
│ 💾 [保存生词] [复制原文]     │
└─────────────────────────────┘
```

**底部状态栏**

- OCR 状态
- 快捷键提示
- 当前模式指示

## 🎨 UI/UX 设计要点

### 配色方案

#### Light Mode（浅色模式）

```javascript
// Tailwind配置
colors: {
  primary: {
    50: '#F8FAFC',   // 最浅背景
    100: '#D9EAFD',  // 次要背景
    200: '#BCCCDC',  // 边框/分割线
    300: '#9AA6B2',  // 图标/次要文字
    400: '#6B7886',  // 主要文字
    500: '#475569',  // 深色文字
  }
}
```

#### Dark Mode（深色模式）

```javascript
// 反转配色（后期实现）
colors: {
  dark: {
    bg: '#1E293B',      // 主背景
    surface: '#334155',  // 卡片背景
    border: '#475569',   // 边框
    text: '#F8FAFC',     // 主文字
  }
}
```

### 设计原则

- 🎨 **极简美学**：灰白色系，减少视觉干扰
- 🌗 **双模式支持**：Light/Dark 自由切换
- 🎯 **用户可定制**：后期支持自定义主题色

### 交互设计

- **拖拽操作**：图片导入、窗口调整
- **快捷键**：
  - `Ctrl+Shift+S`: 全局截图
  - `Ctrl+T`: 切换翻译显示
  - `Ctrl+D`: 添加到生词本
- **悬浮提示**：单词 hover 显示详细释义
- **动画过渡**：面板切换使用平滑动画


## 🆓 零成本方案

### 🤖 AI 模型策略：本地优先 + 云端增强

#### OCR 方案

**🏠 本地兜底模型**（无需网络，开箱即用）

- 模型来源：Hugging Face Hub
- 推荐模型：
  - `easyocr-ja`（约 50MB，支持日语）
  - `paddleocr-lite-ja`（约 20MB，轻量级）
- 运行方式：使用 `transformers.js` 在浏览器/Node.js 中直接运行
- 优点：完全离线、零成本、隐私安全

**☁️ 云端增强选项**（用户自行配置）

- 用户可选择接入：
  - Google Cloud Vision API
  - 百度 OCR API
  - 腾讯云 OCR API
- 配置方式：用户在设置中填入自己的 API Key
- 使用场景：需要更高准确率时切换

#### 翻译方案

**🏠 本地兜底模型**

- 模型来源：Hugging Face Hub
- 推荐模型：
  - `t5-small-japanese-english`（约 200MB）
  - `opus-mt-ja-zh`（日译中，约 300MB）
- 运行方式：使用 `transformers.js` 或 `onnx-runtime`
- 优点：离线可用、无限次数

**☁️ 云端增强选项**

- 用户可选择接入：
  - DeepL API（Free 50 万字符/月）
  - Google Translate API
  - 有道翻译 API
- 智能切换：本地模型作为备选，云端失败时自动降级

#### 模型下载与管理

```
首次启动流程：
1. 检测是否有本地模型
2. 若无，提示用户选择：
   - [推荐] 下载轻量级模型（100MB，离线可用）
   - [轻便] 仅使用在线API（需配置）
3. 后台静默下载，可随时使用
4. 模型缓存到本地，无需重复下载
```

### 分词与语法

- ✅ **kuromoji.js**：开源日语分词库
- ✅ **基础语法规则库**：自建规则匹配系统

### 部署

- GitHub Release 发布安装包
- 用户本地运行，无服务器成本
- 模型文件可选下载，不强制打包

## 🗺 开发路线图

- [x] 项目初始化
- [x] 基础 UI 框架搭建
- [x] Electron 集成
- [x] 图片导入与预览
- [ ] Tesseract OCR 集成
- [ ] 日语竖排识别优化
- [ ] 全局截图功能
- [ ] kuromoji 分词集成
- [ ] 翻译 API 集成
- [ ] 生词本功能
- [ ] 基础语法分析
- [ ] 悬浮模式
- [ ] 打包与发布

## 👋 待优化的地方

- [ ] UI
- [ ] electron 集成部分
- [ ] 性能与整体体积

## 🤝 贡献指南

欢迎所有日语学习爱好者和开发者参与！

## 📄 开源协议

MIT License - 自由使用、修改和分享

---

**让日语学习变得更简单，一起加油！ 💪**
